# ğŸ¿ï¸ FlashSquirrel (é–ƒé›»æ¾é¼ ) - Automated Research Pipeline

> **ã€Œé–ƒé›»ä¸€æ“Šï¼Œæ™ºæ…§å…¥æ—ã€‚ã€**  
> *"One Lightning Strike, A Forest of Wisdom."*

[ç¹é«”ä¸­æ–‡](#ç¹é«”ä¸­æ–‡) | [English](#english)

---

<a name="ç¹é«”ä¸­æ–‡"></a>

## âœ¨ å ±å‘Šè¦æ ¼ (Report Capabilities)
*   **å¤šèªè¨€æ”¯æŒ**ï¼šå®Œç¾è™•ç† **ç¹é«”ä¸­æ–‡** èˆ‡ **è‹±æ–‡** è³‡æ–™ï¼Œç”¢å‡ºé«˜å“è³ªé›™èªå ±å‘Šã€‚
*   **æ ¼å¼æ¨™æº–**ï¼šå…¨è‡ªå‹•ç”Ÿæˆ **Markdown** æª”æ¡ˆï¼Œæ–¹ä¾¿æ‚¨åŒ¯å…¥ Obsidian, Notion æˆ–ä»»ä½•ç­†è¨˜è»Ÿé«”ã€‚
*   **åˆ†ææ¨¡å¼**ï¼š
    - **å–®é»æ¨¡å¼ (Single Point)**ï¼šé‡å°å–®å€‹æ–‡ä»¶é€²è¡Œæ·±åº¦æŸ¥è­‰èˆ‡æ‘˜è¦ã€‚
    - **å¤šé»æ¨¡å¼ (Multi-Point)**ï¼šè‡ªå‹•åµæ¸¬å¤šä»½æ–‡ä»¶ï¼Œç”¢å‡ºã€Œçˆ­è­°çŸ©é™£ã€èˆ‡ã€Œç¶œåˆç¶œè¿°ã€ã€‚

---

## ğŸ’¡ æ ¸å¿ƒå“²å­¸ (The Manifesto)

### 1. æ·±åº¦å…ˆæ–¼å»£åº¦ (Deepen, then Synthesize)
**è§£æ±º AI çš„ã€Œé¦™è¾²ç†µ (Entropy)ã€å•é¡Œ**ï¼š
æ ¹æ“šé¦™è¾²è³‡è¨Šç†è«–ï¼Œè³‡è¨Šåœ¨å‚³éä¸­æœƒç”¢ç”Ÿæè€—ï¼ˆå™ªéŸ³ï¼‰ã€‚AI åœ¨è™•ç†éæ–¼é¾å¤§ã€æœªç¶“æ•´ç†çš„è³‡æ–™åº«æ™‚ï¼Œå›è¦†æœƒè®Šå¾—ã€Œé›¶æ•£ã€ä¸”ã€Œæº–ç¢ºåº¦ä¸‹é™ã€ã€‚

**FlashSquirrel çš„è§£æ³•**ï¼š
æ‹’çµ•ç›´æ¥å°‡åƒåœ¾å¡å…¥ AIã€‚æˆ‘å€‘åˆ©ç”¨ **Markdown çµæ§‹åŒ–å ±å‘Š** ä½œç‚ºè³‡è¨Šæ¿¾æ³¢å™¨ï¼šå…ˆé€é Gemini 2.0 é€²è¡Œã€Œé«˜èƒ½é‡éæ¿¾ã€èˆ‡ã€Œæ·±åº¦ç ”ç™¼ã€ï¼Œå°‡é›œäº‚çš„åŸå§‹è¨Šè™Ÿè½‰åŒ–ç‚ºé«˜å¯†åº¦çš„çµæ§‹åŒ–å ±å‘Šï¼Œå†é¤µçµ¦ NotebookLMã€‚é€™èƒ½ç¢ºä¿æ‚¨çš„çŸ¥è­˜åº«æ°¸é ä¿æŒã€Œä½ç†µ (Low Entropy)ã€ä¸”é«˜åº¦ç²¾ç¢ºã€‚

### 2. æ™‚é–“å¥—åˆ© (Time Arbitrage)
æ¯å¤©ç¯€çœçš„æ‰‹å‹•è™•ç†æ™‚é–“ç´„ç‚º 5 å°æ™‚ï¼Œæ¯æœˆç´¯è¨ˆç¯€çœç´„ 150 å°æ™‚ã€‚è®“ AI è² è²¬ç¹è¤‡çš„å‹åŠ›ï¼Œæ‚¨è² è²¬æœ€çµ‚çš„æ±ºç­–ã€‚

### 3. é‡‘éŒ¢å®ˆè­·è€… (Cost Guardian) ğŸ›¡ï¸
æˆ‘å€‘ä¸åªèªªä¾¿å®œï¼Œæˆ‘å€‘ç®—çµ¦ä½ çœ‹ã€‚æ‚¨å¯ä»¥æ ¹æ“šéœ€æ±‚è‡ªç”±é¸æ“‡æ–¹æ¡ˆï¼š

| æ–¹æ¡ˆ | ç”Ÿæˆå“è³ª | ç­‰å¾…æ™‚é–“ | è²»ç”¨ | ç‰¹è‰² |
| :--- | :--- | :--- | :--- | :--- |
| **å…è²»æ–¹æ¡ˆ (Free)** | **æœ€é«˜** | è¼ƒé•· (éœ€æ’éšŠ) | **$0** | ç³»çµ±å…§å»ºã€Œè‡ªå‹•æ’éšŠã€æ©Ÿåˆ¶ï¼Œæ›è‘—å°±èƒ½è·‘ï¼Œ0 æˆæœ¬ç„¡ç—›ç ”ç©¶ã€‚ |
| **ä»˜è²»æ–¹æ¡ˆ (Paid)** | **æœ€é«˜** | **æ¥µé€Ÿ** | ç´„ $1~$3 /æœˆ | éš¨é»éš¨ç”¨ï¼Œæ¯«ç§’ç´šéŸ¿æ‡‰ï¼Œç”¨ä¸€æ¯å’–å•¡çš„éŒ¢è²·å›ä¸€å€‹æœˆçš„è‡ªç”±ã€‚ |

#### ğŸ“Š çœŸå¯¦è²»ç‡è©¦ç®— (ä»¥ Gemini 2.0 Flash ç‚ºä¾‹)ï¼š

| é …ç›® (ä»¥å–®ä»½æ·±åº¦å ±å‘Šè¨ˆ) | é ä¼°ä½¿ç”¨é‡ | å–®ä½æˆæœ¬ (1M tokens) | å°è¨ˆ |
| :--- | :--- | :--- | :--- |
| **è¼¸å…¥ (Input)** | 10,000 tokens | $0.10 | $0.0010 |
| **è¼¸å‡º (Output)** | 2,000 tokens | $0.40 | $0.0008 |
| **å–®ä»½ç ”ç©¶ç¸½è¨ˆ** | - | - | **$0.0018 USD** |

*   **è¦æ¨¡åŒ–é‹ç®—**ï¼šå³ä¾¿æ¯å¤©è™•ç† 20 ä»½å ±å‘Šï¼Œæ¯æœˆè²»ç”¨åƒ…ç´„ **$1.08 USD** (ç´„ 35 å…ƒå°å¹£)ã€‚
*   **çµè«–**ï¼šç„¡è«–å…è²»æˆ–ä»˜è²»ï¼ŒFlashSquirrel éƒ½æœƒåœ¨å¾Œå°å¹«æ‚¨è™•ç†å¥½æ’éšŠèˆ‡æ›´åï¼Œæ‚¨åªéœ€è¦è² è²¬ã€ŒæŠ•é¤µã€å³å¯ã€‚

### 4. æ•…éšœè‡ªæˆ‘ä¿®å¾© (Auto-Repair Architecture) â˜ï¸
å…·å‚™ iCloud ä½”ä½ç¬¦æ™ºèƒ½è­˜åˆ¥ã€API æµé‡é™åˆ¶è‡ªå‹•å°æ²–èˆ‡ç•°æ­¥éšŠåˆ—ç®¡ç†ã€‚ç³»çµ±åœ¨ä¸ç©©å®šçš„ç¶²è·¯èˆ‡é›²ç«¯ç’°å¢ƒä¸­ä¾èˆŠèƒ½ä¿æŒç¡¬åŒ–é‹è¡Œã€‚

---

## ğŸ› ï¸ ç³»çµ±æ¶æ§‹ (System Architecture)

```mermaid
graph TD
    subgraph "Perception Layer (iPhone)"
        A[User Input: Photo/Text] -->|Share Sheet| B(iOS Shortcut: Flash Research)
        B -->|Decision| C{Menu Selection}
        C -->|New Topic| D[Create Timestamp Folder]
        C -->|Append| E[Find Latest Modified Folder]
        D --> F[iCloud Drive]
        E --> F
    end

    subgraph "Transport Layer (Cloud)"
        F -->|Async Sync| G[MacOS iCloud Folder]
    end

    subgraph "Reasoning Layer (Mac Background)"
        G -->|Watchdog Event| H[auto_research_pipeline.py]
        H -->|API Call| I[Gemini 2.0 Flash]
        I -->|Google Search| J[Grounding Verification]
        J -->|Return| K[Markdown Report + Confidence Score]
        K -->|Save to Disk| G
        
        G -->|Multi-file Trigger| L[Synthesis Engine]
        L -->|Analyze| M[Generate Conflict Matrix]
    end

    subgraph "Action Layer (NotebookLM Loop)"
        K -->|Trigger| N[notebooklm_automator.py]
        N -->|Playwright| O[Chrome Headless]
        O -->|Upload| P[Google NotebookLM]
        P -->|AI Analysis| Q[Generate Topic Title]
        Q -->|Capture Title| N
        N -->|OS Rename| G
        style G fill:#f9f,stroke:#333,stroke-width:2px
    end
```

*(è©³è¦‹ [ç³»çµ±æ¶æ§‹æ‰‹å†Š](./ç³»çµ±æ¶æ§‹æ‰‹å†Š.md))*

---

## ğŸš€ å¿«é€Ÿé–‹å§‹ (Quick Start)

### ğŸ æ¥µç°¡å®‰è£æ­¥é©Ÿ
**å¦‚æœæ‚¨å¸Œæœ›ä»¥æœ€å¿«é€Ÿåº¦å•Ÿå‹•é–ƒé›»å·¥ä½œæµï¼Œè«‹æŒ‰ç…§ä»¥ä¸‹æ­¥é©Ÿæ“ä½œï¼š**

1.  **ä¸‹è¼‰èˆ‡è§£å£“ç¸®**ï¼šé»æ“Šå³ä¸Šè§’ç¶ è‰²æŒ‰éˆ• **"Code"** ä¸¦é¸æ“‡ **"Download ZIP"**ã€‚
2.  **ä¸€éµå•Ÿå‹•**ï¼šåŸ·è¡Œ `python start.py`ã€‚
    - **ç¬¬ä¸€æ¬¡åŸ·è¡Œ**ï¼šæ¾é¼ æœƒå¸¶é ˜ä½ è¨­å®š API Key ä¸¦å»ºç«‹è³‡æ–™å¤¾ã€‚
    - **ä¹‹å¾ŒåŸ·è¡Œ**ï¼šæ¾é¼ æœƒç›´æ¥é–‹å§‹å·¡é‚è³‡æ–™å¤¾ï¼Œæ‚¨åªéœ€ä¸Ÿå…¥æª”æ¡ˆå³å¯ï¼

---

## ğŸ› ï¸ ä¸‰ç¨®ä½¿ç”¨è·¯å¾‘ (Three Usage Paths)

### 1. ç´”é›»è…¦ä½¿ç”¨è€… (Desktop Only)
1.  **è‡ªå‹•ç”Ÿæˆ**ï¼šé¦–æ¬¡åŸ·è¡Œ `start.py` å¾Œï¼Œç³»çµ±æœƒè‡ªå‹•åœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹å»ºç«‹ `data/input_thoughts` è³‡æ–™å¤¾ã€‚
2.  **ç®¡ç†ç´ æ**ï¼šå°‡æ–‡ä»¶ï¼ˆPDFã€ç…§ç‰‡ï¼‰æ”¾å…¥å­è³‡æ–™å¤¾ï¼ŒAI å°‡è‡ªå‹•å®Œæˆæœ¬åœ°åˆ†æã€‚

### 2. Apple å…¨å®¶æ¡¶ç”¨æˆ¶ (Apple Ecosystem)
1.  **ç§»å‹•ç«¯æ•æ‰**ï¼šä½¿ç”¨ [iOS å¿«æ·æŒ‡ä»¤](https://www.icloud.com/shortcuts/b7238297c2494f73addcd1b7330bdebf) éš¨æ‰‹è¨˜éŒ„ã€‚
2.  **iCloud è‡ªå‹•åŒ–**ï¼šæ‰‹æ©Ÿä¸Šå‚³ï¼ŒMac åœ¨å¾Œå°è‡ªå‹•åŸ·è¡Œç ”ç™¼èˆ‡æ›´åã€‚

### 3. Windows / è·¨å¹³å°çµ„åˆ (Windows & Cross-Platform)
1.  **åŒæ­¥åª’ä»‹**ï¼šåœ¨ Windows å®‰è£ **iCloud for Windows** æˆ–ä½¿ç”¨ **OneDrive**ã€‚
2.  **å¾Œå°ç›£æ§**ï¼šæ‰‹æ©Ÿå°‡æª”æ¡ˆåŒæ­¥è‡³é›²ç«¯è³‡æ–™å¤¾ï¼ŒFlashSquirrel å°‡åœ¨ Windows ä¸Šè‡ªå‹•å®Œæˆè™•ç†ã€‚

---

## ğŸ› ï¸ å…¨å¹³å°åŒæ­¥æ–¹æ¡ˆ (Sync Strategy)
*   **Apple ç”¨æˆ¶**ï¼šåˆ©ç”¨ iOS å¿«æ·æŒ‡ä»¤èˆ‡ iCloud Drive å¯¦ç¾ç„¡æ„ŸåŒæ­¥ã€‚
*   **Windows / Android ç”¨æˆ¶**ï¼š
    - **é›²ç«¯åŒæ­¥**ï¼šæ”¯æ´ OneDriveã€Google Driveã€Dropbox æˆ–å®˜æ–¹ iCloud for Windowsã€‚
    - **é€šç”¨æ–¹æ¡ˆ**ï¼šä»»ä½•èƒ½å°‡æ‰‹æ©Ÿæª”æ¡ˆã€ŒåŒæ­¥è‡³é›»è…¦è³‡æ–™å¤¾ã€çš„å·¥å…·ï¼ˆå¦‚ Telegram ç›®éŒ„æ˜ å°„ï¼‰å‡å¯å•Ÿå‹•é–ƒé›»å·¥ä½œæµã€‚

---

## âš–ï¸ æˆæ¬Šèˆ‡ä¼æ¥­ä½¿ç”¨ (License & Corporate)

æœ¬å°ˆæ¡ˆæ¡ **AGPLv3** å”è­°é–‹æºã€‚ä¼æ¥­å¦‚æœ‰å•†æ¥­åŒ–éœ€æ±‚æˆ–æ¶‰åŠ MCP æ ¼å¼å¤§è¦æ¨¡æ‡‰ç”¨ï¼Œè«‹å‹™å¿…å…ˆèˆ‡ä½œè€…è¯ç¹«èªªæ˜ã€‚

è©³è¦‹ [ç”Ÿæ´»åŒ–æµç¨‹æ‰‹å†Š](./docs/LIFESTYLE_WORKFLOW.md) èˆ‡ [ç³»çµ±æ¶æ§‹æ‰‹å†Š](./ç³»çµ±æ¶æ§‹æ‰‹å†Š.md)ã€‚

## âœ¨ Report Capabilities
*   **Multilingual Support**: Masterfully handles **Traditional Chinese** and **English** to produce high-quality bilingual reports.
*   **Standard Format**: Fully automated **Markdown** files, compatible with Obsidian, Notion, or any note-taking software.
*   **Analysis Modes**:
    - **Single Point**: In-depth verification and summary for a single document.
    - **Multi-Point**: Automatically detects multiple files to produce "Conflict Matrices" and "Integrative Overviews."

---

## ğŸ’¡ The Manifesto

### 1. Deepen, then Synthesize
**Solving the "Shannon Entropy" Problem**:
According to Shannon's Information Theory, information loss (noise) occurs during transmission. When AI processes an unorganized, massive database, its responses become "scattered" and "less accurate."

**The FlashSquirrel Solution**:
We refuse to feed raw "noise" into the AI. We use **Markdown-structured reports** as an information filter. By using Gemini 2.0 for "High-Energy Filtering" and "Deep Research," we transform chaotic raw signals into high-density structured reports before they reach NotebookLM. This ensures your knowledge base remains in a "Low Entropy" state with maximum precision.

### 2. Time Arbitrage
Saves approximately 5 hours of manual processing daily, totaling 150 hours per month. Let AI handle the heavy lifting while you focus on final decision-making.

### 3. Cost Guardian ğŸ›¡ï¸
We don't just claim it's cheap; we prove it. Choose the plan that fits your pace:

| Plan | Quality | Wait Time | Cost | Key Feature |
| :--- | :--- | :--- | :--- | :--- |
| **Free Plan** | **Best** | Longer (Queue) | **$0** | Built-in "Auto-Queuing"â€”set it and forget it for $0 research. |
| **Paid Plan** | **Best** | **Ultra-Fast** | ~$1-$3 /mo | Millisecond responses; buy back your time for the price of a coffee. |

#### ğŸ“Š Realistic Cost Breakdown (Gemini 2.0 Flash):

| Item (Per Deep Report) | Est. Usage | Unit Cost (per 1M) | Subtotal |
| :--- | :--- | :--- | :--- |
| **Input** | 10,000 tokens | $0.10 | $0.0010 |
| **Output** | 2,000 tokens | $0.40 | $0.0008 |
| **Total per Report** | - | - | **$0.0018 USD** |

*   **Scaled Usage**: Even at 20 reports/day, your monthly cost is only ~$1.08 USD.
*   **Verdict**: Whether Free or Paid, FlashSquirrel handles all queuing and renaming in the background. You just feed the files.

### 4. Auto-Repair Architecture â˜ï¸
Features intelligent iCloud placeholder detection, API rate limit hedging, and asynchronous queue management. The system remains robust across unstable network and cloud environments.

---

## ğŸš€ Quick Start

### ğŸ Minimal Setup Steps
**To launch your Flash Research workflow at light speed, follow these steps:**

1.  **Download & Extract**: Click the green **"Code"** button above and select **"Download ZIP"**.
2.  **One-Word Start**: Run `python start.py`.
    - **First Run**: The squirrel will guide you through API setup and folder creation.
    - **Subsequent Runs**: It goes straight to guarding your research folders. Just drop your files and fly!

---

## ğŸ› ï¸ Three Usage Paths

### 1. Desktop Only
1.  **Auto-Creation**: After running `start.py`, the system automatically creates the `data/input_thoughts` folder.
2.  **Direct Drop**: Place your files into sub-folders. AI handles all analysis locally.

### 2. Apple Ecosystem (Full)
1.  **Mobile Capture**: Use our [iOS Shortcut](https://www.icloud.com/shortcuts/b7238297c2494f73addcd1b7330bdebf) for on-the-go recording.
2.  **iCloud Automation**: Captured on iPhone; processed and renamed automatically on your Mac.

### 3. Windows & Cross-Platform
1.  **Bridge**: Install **iCloud for Windows** or use **OneDrive/Google Drive**.
2.  **Auto-Sync**: `start.py` handles folder creation. Once files sync from mobile to cloud, FlashSquirrel picks them up automatically.

---

## ğŸ› ï¸ Universal Sync Solutions
*   **Apple Users**: Seamless synchronization via iOS Shortcuts and iCloud Drive.
*   **Windows / Android Users**:
    - **Cloud Options**: Supports OneDrive, Google Drive, Dropbox, or iCloud for Windows.
    - **Universal**: Any tool that syncs mobile files to a local PC folder can trigger the pipeline.

---

## âš–ï¸ License & Corporate Usage

Licensed under **AGPLv3**. For commercial use or large-scale MCP integration, please contact the author beforehand.

See [Lifestyle Workflow Guide](./docs/LIFESTYLE_WORKFLOW.md) and [Technical Manual](./ç³»çµ±æ¶æ§‹æ‰‹å†Š.md) for more details.
